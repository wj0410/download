import{f as b,i as d,j as _,z as u,c as h,e as V,g as o,m as a,o as F,y as p,E as C,G as S,H as z,_ as B}from"./index-909bb12b.js";const L={class:"login_wrap"},j={class:"login_from_wrap"},E=b({__name:"login",setup(I){const f=[{account:"lkw",nickName:"廖开威",password:"123",avatar:"http://47.98.35.95/files/images/tx07.png"},{account:"pwj",nickName:"彭文杰",password:"123",avatar:"http://47.98.35.95/files/images/tx02.png"},{account:"wj",nickName:"王杰",password:"123",avatar:"http://47.98.35.95/files/images/tx09.png"},{account:"zh",nickName:"张恒",password:"123",avatar:"http://47.98.35.95/files/images/tx03.png"},{account:"zhouhui",nickName:"周慧",password:"123",avatar:"http://47.98.35.95/files/images/tx01.png"}],g=d("default"),c=d(),s=_({account:"",password:""}),w=_({account:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),v="http://10.127.73.36/files",m=t=>{localStorage.setItem("userInfo",JSON.stringify(t)),S(JSON.stringify(t)),setTimeout(()=>{z.push({path:"/home"})},500)},k=()=>{let t=Math.random().toString(36).slice(2,7),e=s.account.trim()!==""?s.account:t,n={account:t,nickName:"游客-"+e,avatar:v+"/images/default.png"};m(n)},y=async t=>{t&&await t.validate((e,n)=>{if(e){let r=f.find(i=>i.account===s.account);r?m(r):C({showClose:!0,duration:1e3,message:"用户名密码错误",type:"error"})}else console.log("error submit!",n)})},x=t=>{t&&t.resetFields()};return(t,e)=>{const n=u("el-input"),r=u("el-form-item"),i=u("el-button"),N=u("el-form");return F(),h("div",L,[V("div",j,[o(N,{ref_key:"ruleFormRef",ref:c,model:s,rules:w,"label-width":"120px",class:"demo-ruleForm",size:g.value,"status-icon":""},{default:a(()=>[o(r,{label:"用户名 :",prop:"account"},{default:a(()=>[o(n,{style:{width:"300px"},modelValue:s.account,"onUpdate:modelValue":e[0]||(e[0]=l=>s.account=l)},null,8,["modelValue"])]),_:1}),o(r,{label:"密码 :",prop:"password"},{default:a(()=>[o(n,{type:"password",style:{width:"300px"},modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=l=>s.password=l)},null,8,["modelValue"])]),_:1}),o(r,null,{default:a(()=>[o(i,{type:"primary",onClick:e[2]||(e[2]=l=>y(c.value))},{default:a(()=>[p(" 登录 ")]),_:1}),o(i,{onClick:e[3]||(e[3]=l=>x(c.value))},{default:a(()=>[p("重置")]),_:1}),o(i,{type:"primary",onClick:e[4]||(e[4]=l=>k())},{default:a(()=>[p("游客登录")]),_:1})]),_:1})]),_:1},8,["model","rules","size"])])])}}});const T=B(E,[["__scopeId","data-v-b462f424"]]);export{T as default};
